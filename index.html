<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width">
 <title>Servicio JSON</title>
</head>
<body>

 <h1>Recibe y Devuelve JSON</h1>

 <p><button onclick="envia()">Env√≠ar JSON</button></p>
 
 <script type="module">
  import { exportaAHtml } from "./lib/js/exportaAHtml.js"
  import { muestraError } from "./lib/js/muestraError.js"
  import { enviaJson } from "./lib/js/enviaJson.js"
  async function envia() {
   try {
    const datos = {
     saludo: "No Patricio,",
     nombre: "la mayonesa no es un instrumento"
    }
    const respuesta =
     await enviaJson(
      "srv/json.php", datos)
    alert(respuesta.body)
   } catch (error) {
    muestraError(error)
   }
  }
  exportaAHtml(envia)
 </script>

</body>
</html>